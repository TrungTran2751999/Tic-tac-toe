<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>Tic tac toe</h2>
    <div class="row-1">(.) (.) (.) (.) (.) (.)</div>
    <div class="row-2">(.) (.) (.) (.) (.) (.)</div>
    <div class="row-3">(.) (.) (.) (.) (.) (.)</div>
    <div class="row-4">(.) (.) (.) (.) (.) (.)</div>
    <div class="row-5">(.) (.) (.) (.) (.) (.)</div>
    <div class="row-6">(.) (.) (.) (.) (.) (.)</div>
    <button onclick=play()>Play Game</button>
    <script>
        let player1 = true
        let fakecCheckboard = [
                ['(.)','(.)','(.)','(.)','(.)','(.)'],
                ['(.)','(.)','(.)','(.)','(.)','(.)'],
                ['(.)','(.)','(.)','(.)','(.)','(.)'],
                ['(.)','(.)','(.)','(.)','(.)','(.)'],
                ['(.)','(.)','(.)','(.)','(.)','(.)'],
                ['(.)','(.)','(.)','(.)','(.)','(.)']
            ]
        function play(){
            let x = prompt('Nhập giá trị X','')
            let y = prompt('Nhập giá trị Y','')
        
            let text = document.querySelector(`.row-${y}`).innerHTML
            let checkBox = text.split(' ')
            if(checkBox[x-1] == '(.)'){
                if(player1 == true){
                    checkBox[x-1] = 'x'
                    fakecCheckboard[y-1][x-1] = 'x'
                    console.log(fakecCheckboard)
                    player1 = false
                }else{
                    checkBox[x-1] = '0'
                    fakecCheckboard[y-1][x-1] = '0'
                    console.log(fakecCheckboard)
                    player1 = true
                }
            }else{
                return alert('Không phải ô trống')
            }
            text = checkBox.join(' ')
            document.querySelector(`.row-${y}`).innerHTML = text
            // phan nua ban co 1
                for(let i=0; i<4; i++){
                    for(let j=0; j<4; j++){
                        for(let a=0; a<=1; a++){
                            if(fakecCheckboard[i][j+a] == fakecCheckboard[i][j+a+1] && a == 1 && fakecCheckboard[i][j+a+1] != '(.)' && fakecCheckboard[i][j] == fakecCheckboard[i][j+a+1]){
                                if(fakecCheckboard[i][j]=='x'){
                                    return alert('x win')
                                }else{
                                    return alert('0 win')
                                }
                            }
                            if(fakecCheckboard[j+a][i] == fakecCheckboard[j+a+1][i] && a == 1 && fakecCheckboard[j+a+1][i] != '(.)' && fakecCheckboard[j+a+1][i] == fakecCheckboard[j][i]){
                                if(fakecCheckboard[j][i]=='x'){
                                    return alert('x win')
                                }else{
                                    return alert('0 win')
                                }
                            }
                            if(fakecCheckboard[i+a][j+a] == fakecCheckboard[i+a+1][j+a+1] && a == 1 && fakecCheckboard[i+a+1][j+a+1] != '(.)' && fakecCheckboard[i+a+1][j+a+1] == fakecCheckboard[i][j]){
                                if(fakecCheckboard[i][j]=='x'){
                                    return alert('x win')
                                }else{
                                    return alert('0 win')
                                }   
                            }
                            if(fakecCheckboard[Math.abs(i-a)][j+a] == fakecCheckboard[Math.abs(i-a-1)][j+a+1] && a == 1 && fakecCheckboard[Math.abs(i-a-1)][j+a+1] != '(.)' && fakecCheckboard[Math.abs(i-a-1)][j+a+1] == fakecCheckboard[i][j]){
                                if(fakecCheckboard[i][j]=='x'){
                                    return alert('x win')
                                }else{
                                    return alert('0 win')
                                }  
                            }
                        }
                    }
                }
                // phan nua ban co 2
                for(let i=5; i>1; i--){
                    for(let j=5; j>1; j--){
                        for(let a=0; a<=1; a++){
                            if(fakecCheckboard[i][j-a] == fakecCheckboard[i][j-a-1] && a == 1 && fakecCheckboard[i][j-a-1] != '(.)' && fakecCheckboard[i][j] == fakecCheckboard[i][j-a-1]){
                                if(fakecCheckboard[i][j]=='x'){
                                    return alert('x win')
                                }else{
                                    return alert('0 win')
                                }
                            }
                            if(fakecCheckboard[j-a][i] == fakecCheckboard[j-a-1][i] && a == 1 && fakecCheckboard[j-a-1][i] != '(.)' && fakecCheckboard[j-a-1][i] == fakecCheckboard[j][i]){
                                if(fakecCheckboard[j][i]=='x'){
                                    return alert('x win')
                                }else{
                                    return alert('0 win')
                                }
                            }
                            if(fakecCheckboard[i-a][j-a] == fakecCheckboard[i-a-1][j-a-1] && a == 1 && fakecCheckboard[i-a-1][j-a-1] != '(.)' && fakecCheckboard[i-a-1][j-a-1] == fakecCheckboard[i][j]){
                                if(fakecCheckboard[i][j]=='x'){
                                    return alert('x win')
                                }else{
                                    return alert('0 win')
                                }   
                            }
                            if(fakecCheckboard[Math.abs(i-a)][Math.abs(j+a)] == fakecCheckboard[Math.abs(i-a-1)][Math.abs(j+a+1)] && a == 1 && fakecCheckboard[Math.abs(i-a-1)][Math.abs(j+a+1)] != '(.)' && fakecCheckboard[Math.abs(i-a-1)][Math.abs(j+a+1)] == fakecCheckboard[i][j]){
                                if(fakecCheckboard[i][j]=='x'){
                                    return alert('x win')
                                }else{
                                    return alert('0 win')
                                }  
                            }
                        }
                    }
                }
        }
    </script>
</body>
</html>